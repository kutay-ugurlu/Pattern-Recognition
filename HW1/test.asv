% test.m 

%% Part 3 

% Grid
x1range = -2:.1:2;
x2range = -2:.1:2;
[xx1, xx2] = meshgrid(x1range,x2range);
XGrid = [xx1(:) xx2(:)];

% Gaussians
X1 = mvnrnd([3;-3],[3 1;1 3],100);
X2 = mvnrnd([-3;3],[3 1;1 3],100);

subplot(1,3,1)
g = @(x,y) abs(mahal([x y],X1));
fcontour(g,[-10 10 -10 10],'Fill','on');
title('X1 distribution')
caxis([0 100])

subplot(1,3,2)
g = @(x,y) abs(mahal([x y],X2));
fcontour(g,[-50 50 -50 50],'Fill','on');
title('X2 distribution')
caxis([0 100])

subplot(1,3,3)
f = @(x,y) abs(mahal([x y],X1) - mahal([x y],X2));
fcontour(f,[-50 50 -50 50],'Fill','on');
title('|{d^{mahal}}_{1}  -  {d^{mahal}}_{2}|')
caxis([0 100])

colorbar

